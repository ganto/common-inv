classes:
  - os.debian

parameters:
  os__codename: jessie
  os__version: 8.8
  os__packer-template: "{{ packer_templates }}/debian-jessie/Debian-Jessie-8.5-x86_64.json"
  os__tmp_base_dir: '/var/tmp/qemu-dist-installer-copy'
  os__tmp_installer_dir: '{{ os__tmp_base_dir }}/installer-{{ target_arch }}'
  os__tmp_images_dir: '{{ os__tmp_installer_dir }}/current/images'
  os__tmp_image_dir: '{{ os__tmp_images_dir }}/netboot/debian-installer/{{ target_arch }}'
# only used in roles/create_vm ..
#  os__installer_templates:
#    - src: 'preseed.j2'
#      dest: '{{ host__dist_installer }}/preseed.cfg'
#    - src: 'late_script.sh'
#      dest: '{{ host__dist_installer }}/late_script.sh'
#    - src: 'debian_postinstall.sh'
#      dest: '{{ os__tmp_base_dir }}/debian_postinstall.sh'
#    - src: 'inofix_base.sh'
#      dest: '{{ os__tmp_base_dir }}/inofix_base.sh'
  os__installer_base:
    debian:
      jessie:
        amd64:
          - url: 'http://ftp.uni-stuttgart.de/debian/dists/Debian${os__version}/main/installer-amd64/current/images/MANIFEST'
            dest: '{{ os__tmp_images_dir }}/MANIFEST'
            checksum: 'sha256:82f69d557f0004d2923fb03e4fb47d18187e37768dbfd0c99756f8a6c68a6d3a'
            virt_install: True
          - url: 'http://ftp.uni-stuttgart.de/debian/dists/Debian${os__version}/main/installer-amd64/current/images/MANIFEST.udebs'
            dest: '{{ os__tmp_images_dir }}/MANIFEST.udeps'
            checksum: 'sha256:195702481d966a6c9337828c412fc5e2c20f051aa16f006bb86a889e984f35cb'
            virt_install: True
          - url: 'http://ftp.uni-stuttgart.de/debian/dists/Debian${os__version}/main/installer-amd64/current/images/netboot/debian-installer/amd64/initrd.gz'
            dest: '{{ os__tmp_image_dir }}/initrd.gz'
            checksum: 'sha256:cc5c91153662b2317563eda91c8f20114bc17cba52e4dca8039b824473d4b49e'
            virt_install: True
          - url: 'http://ftp.uni-stuttgart.de/debian/dists/Debian${os__version}/main/installer-amd64/current/images/netboot/debian-installer/amd64/linux'
            dest: '{{ os__tmp_image_dir }}/linux'
            checksum: 'sha256:7d1aa3c1163ee1cdea1a8cb984554e97b7f33d6fb1b76fc949b30e7b38de6b13'
            virt_install: True
